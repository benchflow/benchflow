version: v1
name: WfMSTest
description: A WfMS test

###############################################################################
# test configuration
###############################################################################
configuration:
  goal:
    type: workload
#    observation:

#    parameters:
#    - on camunda:
#      - camundaParameter:
#          values: [ "a", "b", "c" ]
#
#    explore:
#      camunda: [ camundaParameter ]
#

  users: 10

  workload_execution:
     rampUp: 0
     steadyState: 60
     rampDown: 0

#  strategy:

  termination_criteria:
    test:
      type: fixed
      number: 1

    experiment:
      type: fixed
      number: 3

###############################################################################
# SUT info section
###############################################################################
sut:
  name: camunda
  version: 3.5.0
  type: WfMS

  configuration:
    target_service:
      name: camunda
      endpoint: /engine-rest
      sut_ready_log_check: bla

    deployment:
      camunda: bull
      db: lisa1

    # TODO
    benchflowConfig:
      camunda:
      - stats

      db:
      - mysql:
        config:
          MYSQL_DB_NAME: process-engine
          MYSQL_USER: camunda
          MYSQL_USER_PASSWORD: camunda
          TABLE_NAMES: ACT_HI_PROCINST,ACT_HI_ACTINST
          MYSQL_PORT: 3306
          MY_MONITOR_QUERY: complete

###############################################################################
# workload modeling section
# this is specific to the SUT type
###############################################################################
workload:
  test-load:
    type: start
    operations:
      - myModel.bpmn

    mix:
      fixedSequence: [ myModel ]
#      deviation: 5 TODO @VF



###############################################################################
# Data Collection section
###############################################################################

# TODO

# properties:
#          stats:
#              interval: 30
#
#
# properties:
#    stats:
#        maxRunTime: 6
#        interval: 2


